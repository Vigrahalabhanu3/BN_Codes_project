// PDF Data Storage with Real-time Updates
let pythonPDFs = [
  {
    id: 1,
    title: "Python Basics and Fundamentals",
    description: "Learn the core concepts of Python programming including variables, data types, basic syntax, input/output, comments, and type conversion.",
    category: "Fundamentals",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558623/Python_data_types_qd2nsd.pdf",
    size: "2.5 MB",
    pages: 4,
    uploadDate: "2024-01-15"
  },
  {
    id: 2,
    title: "Python Operators",
    description: "Understand arithmetic, comparison, logical, assignment, and bitwise operators with practical examples.",
    category: "Operators",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752559278/Python_Operators_vpxskc.pdf",
    size: "2.1 MB",
    pages: 3,
    uploadDate: "2024-01-14"
  },
  {
    id: 3,
    title: "Conditional Statements",
    description: "Master decision-making with if, elif, else, and nested conditions in Python.",
    category: "Conditionals",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558683/python_conditional_Statements_rqvu8k.pdf",
    size: "1.7 MB",
    pages: 4,
    uploadDate: "2024-01-13"
  },
  {
    id: 4,
    title: "Loops in Python",
    description: "Explore for, while loops, range(), break, continue, and pass statements.",
    category: "Loops",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558683/python_conditional_Statements_rqvu8k.pdf",
    size: "2.3 MB",
    pages: 4,
    uploadDate: "2024-01-12"
  },
  {
    id: 5,
    title: "Python Data Structures",
    description: "Detailed guide to lists, tuples, sets, and dictionaries with operations and methods.",
    category: "Data Structures",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752559516/Python_Data_Structures_ph3tdm.pdf",
    size: "3.1 MB",
    pages: 7,
    uploadDate: "2024-01-11"
  },
  {
    id: 6,
    title: "Python Functions",
    description: "Understand defining functions, return values, default/keyword arguments, *args, **kwargs, and recursion.",
    category: "Functions",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752560060/Python_Functions_sguqiq.pdf",
    size: "3.0 MB",
    pages: 7,
    uploadDate: "2024-01-10"
  },
  {
    id: 7,
    title: "String Handling in Python",
    description: "Master string methods, slicing, formatting (f-strings, format()), and manipulations.",
    category: "Strings",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558885/String_Handling_in_Python_j05m9h.pdf",
    size: "2.6 MB",
    pages: 6,
    uploadDate: "2024-01-09"
  },
  {
    id: 8,
    title: "File Handling in Python",
    description: "Read, write, and manage files using open(), with, and handling text and CSV formats.",
    category: "File Handling",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558885/File_Handling_in_Python_ilsdlm.pdf",
    size: "2.9 MB",
    pages: 6,
    uploadDate: "2024-01-08"
  },
  {
    id: 9,
    title: "Exception Handling in Python",
    description: "Use try, except, else, finally, and raise custom exceptions effectively.",
    category: "Error Handling",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558885/Exception_Handling_in_Python_udwm6d.pdf",
    size: "1.8 MB",
    pages: 7,
    uploadDate: "2024-01-07"
  },
  {
    id: 10,
    title: "Object-Oriented Programming in Python",
    description: "Master classes, objects, __init__, inheritance, polymorphism, encapsulation, and self.",
    category: "OOP",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752430066/Python_List_Comprehension_Telugu_30_Examples_vxhxqk.pdf",
    size: "3.2 MB",
    pages: 5,
    uploadDate: "2024-01-06"
  },
  {
    id: 11,
    title: "Lambda, Map, Filter, Reduce",
    description: "Use anonymous functions and apply map, filter, and reduce for functional programming.",
    category: "Functional",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558886/Lambda_Map_Filter_Reduce_in_Python_vdl1vn.pdf",
    size: "2.0 MB",
    pages: 7,
    uploadDate: "2024-01-05"
  },
  {
    id: 12,
    title: "Modules and Packages in Python",
    description: "Import, create, and manage modules and packages. Use pip for installing external libraries.",
    category: "Modules",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558884/Modules_and_Packages_in_Python_ymvfkv.pdf",
    size: "2.2 MB",
    pages: 6,
    uploadDate: "2024-01-04"
  },
  {
    id: 13,
    title: "List and Dictionary Comprehensions",
    description: "Master concise and readable Python comprehensions for lists, sets, and dictionaries.",
    category: "Comprehensions",
    url: "https://res.cloudinary.com/dzu7g2yts/image/upload/v1752558885/Python_Comprehensions_xbd9d3.pdf",
    size: "2.4 MB",
    pages: 5,
    uploadDate: "2024-01-03"
  }
];


let aptitudePDFs = [
  {
    id: 1,
    title: "Number System and HCF LCM",
    description: "Covers types of numbers, divisibility rules, LCM, HCF, remainders, factorials, and trailing zeros.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/number_system.pdf",
    size: "2.7 MB",
    pages: 41,
    uploadDate: "2024-01-06"
  },
  {
    id: 2,
    title: "Simplification and Approximation",
    description: "Includes BODMAS, surds and indices, decimals, fractions, and estimation techniques.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/simplification.pdf",
    size: "2.2 MB",
    pages: 36,
    uploadDate: "2024-01-13"
  },
  {
    id: 3,
    title: "Algebra Essentials",
    description: "Focuses on linear and quadratic equations, algebraic identities, polynomials, and inequalities.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/algebra.pdf",
    size: "2.9 MB",
    pages: 50,
    uploadDate: "2024-01-12"
  },
  {
    id: 4,
    title: "Percentage and Ratio Problems",
    description: "Master percentage, percentage change, ratio basics, compound and duplicate ratios.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/percentage_ratio.pdf",
    size: "2.3 MB",
    pages: 35,
    uploadDate: "2024-01-04"
  },
  {
    id: 5,
    title: "Profit and Loss Calculations",
    description: "Includes cost price, selling price, marked price, and discount problems.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/profit_loss.pdf",
    size: "2.1 MB",
    pages: 38,
    uploadDate: "2024-01-09"
  },
  {
    id: 6,
    title: "Simple and Compound Interest",
    description: "Learn simple and compound interest formulas, CI vs SI, and time-based calculations.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/interest.pdf",
    size: "2.6 MB",
    pages: 42,
    uploadDate: "2024-01-08"
  },
  {
    id: 7,
    title: "Time and Work Problems",
    description: "Covers work efficiency, man-days concept, and pipes & cisterns.",
    category: "Problem Solving",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/time_work.pdf",
    size: "1.8 MB",
    pages: 32,
    uploadDate: "2024-01-11"
  },
  {
    id: 8,
    title: "Time, Speed, and Distance",
    description: "Learn relative speed, average speed, train and boat-stream problems.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/time_speed.pdf",
    size: "2.4 MB",
    pages: 37,
    uploadDate: "2024-01-10"
  },
  {
    id: 9,
    title: "Problems on Ages and Averages",
    description: "Includes age-related equations and weighted average concepts.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/ages_averages.pdf",
    size: "2.2 MB",
    pages: 33,
    uploadDate: "2024-01-07"
  },
  {
    id: 10,
    title: "Mixtures and Alligations",
    description: "Explains replacement method, alligation rule, and quantity mixing.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/mixtures_alligations.pdf",
    size: "2.0 MB",
    pages: 34,
    uploadDate: "2024-01-05"
  },
  {
    id: 11,
    title: "Permutation and Combination",
    description: "Covers arrangements, selections, and circular permutations.",
    category: "Combinatorics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/permutation_combination.pdf",
    size: "2.9 MB",
    pages: 48,
    uploadDate: "2024-01-03"
  },
  {
    id: 12,
    title: "Probability Made Easy",
    description: "Learn basic probability concepts with cards, dice, coins, and more.",
    category: "Statistics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/probability.pdf",
    size: "2.6 MB",
    pages: 40,
    uploadDate: "2024-01-02"
  },
  {
    id: 13,
    title: "Mensuration & Geometry",
    description: "Area, perimeter, volume, surface area of 2D and 3D shapes.",
    category: "Geometry",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/mensuration.pdf",
    size: "3.1 MB",
    pages: 54,
    uploadDate: "2024-01-01"
  },
  {
    id: 14,
    title: "Trigonometry Essentials",
    description: "Basics of trigonometric ratios, identities, heights, and distances.",
    category: "Trigonometry",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/trigonometry.pdf",
    size: "2.4 MB",
    pages: 39,
    uploadDate: "2023-12-30"
  },
  {
    id: 15,
    title: "Data Interpretation Guide",
    description: "Interpret graphs, bar charts, pie charts, tables, and caselets.",
    category: "Data Analysis",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/data_interpretation.pdf",
    size: "3.2 MB",
    pages: 52,
    uploadDate: "2024-01-07"
  },
  {
    id: 16,
    title: "Calendar and Clocks",
    description: "Day calculation, odd days, leap years, and clock angle problems.",
    category: "Logical Reasoning",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/calendar_clocks.pdf",
    size: "1.9 MB",
    pages: 30,
    uploadDate: "2023-12-29"
  },
  {
    id: 17,
    title: "Set Theory and Venn Diagrams",
    description: "Union, intersection, and 2-set/3-set Venn problems with applications.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/sets_venn.pdf",
    size: "2.0 MB",
    pages: 33,
    uploadDate: "2023-12-28"
  },
  {
    id: 18,
    title: "Logarithms, Surds, and Indices",
    description: "Master log properties, base conversion, surd simplification, and index laws.",
    category: "Mathematics",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/logs_surds.pdf",
    size: "2.8 MB",
    pages: 46,
    uploadDate: "2023-12-27"
  }
];


let reasoningPDFs = [
  {
    id: 1,
    title: "Logical Reasoning Fundamentals",
    description: "Build strong foundation in logical reasoning for competitive exams.",
    category: "Logic",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/logical_reasoning.pdf",
    size: "2.8 MB",
    pages: 48,
    uploadDate: "2024-01-14"
  },
  {
    id: 2,
    title: "Verbal Reasoning Guide",
    description: "Comprehensive guide to verbal reasoning and critical thinking.",
    category: "Verbal",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/verbal_reasoning.pdf",
    size: "2.3 MB",
    pages: 41,
    uploadDate: "2024-01-13"
  },
  {
    id: 3,
    title: "Pattern Recognition",
    description: "Master pattern recognition and sequence problems.",
    category: "Patterns",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/pattern_recognition.pdf",
    size: "1.9 MB",
    pages: 35,
    uploadDate: "2024-01-11"
  },
  {
    id: 4,
    title: "Analytical Reasoning",
    description: "Advanced analytical reasoning techniques and problem-solving strategies.",
    category: "Analysis",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/analytical_reasoning.pdf",
    size: "3.1 MB",
    pages: 55,
    uploadDate: "2024-01-09"
  },
  {
    id: 5,
    title: "Blood Relations and Family Tree",
    description: "Complete guide to solving blood relation problems.",
    category: "Logic",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/blood_relations.pdf",
    size: "1.7 MB",
    pages: 28,
    uploadDate: "2024-01-08"
  },
  {
    id: 6,
    title: "Coding and Decoding",
    description: "Master coding-decoding problems with various techniques.",
    category: "Logic",
    url: "https://res.cloudinary.com/demo/raw/upload/v1234567890/coding_decoding.pdf",
    size: "2.1 MB",
    pages: 33,
    uploadDate: "2024-01-06"
  }
];

/**
 * @typedef {Object} PDF
 * @property {string} title
 * @property {string} url
 * @property {string} [category]
 * @property {number} [pages]
 */
// Event listeners for real-time updates
const updateListeners = {
  python: [],
  aptitude: [],
  reasoning: []
};

// Function to add update listener
export const addUpdateListener = (category, callback) => {
  if (updateListeners[category]) {
    updateListeners[category].push(callback);
  }
};

// Function to remove update listener
export const removeUpdateListener = (category, callback) => {
  if (updateListeners[category]) {
    const index = updateListeners[category].indexOf(callback);
    if (index > -1) {
      updateListeners[category].splice(index, 1);
    }
  }
};

// Function to notify listeners of updates
const notifyListeners = (category) => {
  if (updateListeners[category]) {
    updateListeners[category].forEach(callback => callback());
  }
};

// Function to add new PDF to specific category
export const addPDFToCategory = (category, pdfData) => {
  const newPDF = {
    id: Date.now(), // Simple ID generation
    ...pdfData,
    uploadDate: new Date().toISOString().split('T')[0]
  };

  switch (category) {
    case 'python':
      pythonPDFs.push(newPDF);
      notifyListeners('python');
      break;
    case 'aptitude':
      aptitudePDFs.push(newPDF);
      notifyListeners('aptitude');
      break;
    case 'reasoning':
      reasoningPDFs.push(newPDF);
      notifyListeners('reasoning');
      break;
    default:
      console.error('Invalid category');
      return null;
  }

  return newPDF;
};

// Function to get PDFs by category
export const getPDFsByCategory = (category) => {
  switch (category) {
    case 'python':
      return [...pythonPDFs]; // Return copy to prevent direct mutation
    case 'aptitude':
      return [...aptitudePDFs];
    case 'reasoning':
      return [...reasoningPDFs];
    default:
      return [];
  }
};

// Function to delete PDF from category
export const deletePDFFromCategory = (category, pdfId) => {
  switch (category) {
    case 'python':
      pythonPDFs = pythonPDFs.filter(pdf => pdf.id !== pdfId);
      notifyListeners('python');
      break;
    case 'aptitude':
      aptitudePDFs = aptitudePDFs.filter(pdf => pdf.id !== pdfId);
      notifyListeners('aptitude');
      break;
    case 'reasoning':
      reasoningPDFs = reasoningPDFs.filter(pdf => pdf.id !== pdfId);
      notifyListeners('reasoning');
      break;
    default:
      console.error('Invalid category');
      return false;
  }
  return true;
};

// Export the arrays for initial data
export { pythonPDFs, aptitudePDFs, reasoningPDFs };